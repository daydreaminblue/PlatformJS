
<style>
   
    .search_wrapper input{
        width: 60% !important;
    }
    .search_wrapper svg{
      left: 20em !important;
    }
    .text_result_wrapper{
      display: flex;
      margin: 1em 4em 3em 0;
    }
    .text_result_wrapper h3{
      margin-left: 1em !important;
      color: wheat !important;
    }
    .btn-sm {
    padding: 0 1em !important;
    display: flex !important;
    justify-content: center;
    align-items: center;
    }

  </style>

<%

  let { search , type , order , category } = req.query; 

%>

<div class="search_wrapper">
    <form action="/courses" method="GET">
      <div class="search_wrapper__input">
        <input type="text" name="search" placeholder='در میان ده ها دوره ی آموزشی بگرد'>
      </div>
        <label>
            <input type="submit" />
            <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px"
            width="40" height="40"
            viewBox="0 0 172 172"
            style=" fill:#FFFFFF;"><g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><path d="M0,172v-172h172v172z" fill="none"></path><g fill="#ffffff"><path d="M107.5,15.05c-27.28652,0 -49.45,22.16348 -49.45,49.45c0,10.95156 3.57774,21.07168 9.61621,29.26855l-9.1291,9.1291c-0.73066,-0.26875 -1.49492,-0.42832 -2.26758,-0.42832c-1.65449,0 -3.30898,0.62988 -4.56035,1.88125l-34.76953,34.76953c-2.50273,2.50274 -2.50273,6.61797 0,9.1207l6.81953,6.81953c2.50274,2.50273 6.61797,2.50273 9.1207,0l34.76953,-34.76953c1.83086,-1.83086 2.30957,-4.52676 1.45293,-6.82793l9.1291,-9.1291c8.19687,6.03848 18.31699,9.61621 29.26855,9.61621c27.28652,0 49.45,-22.16348 49.45,-49.45c0,-27.28652 -22.16348,-49.45 -49.45,-49.45zM107.5,19.35c24.96016,0 45.15,20.18984 45.15,45.15c0,24.96016 -20.18984,45.15 -45.15,45.15c-24.96016,0 -45.15,-20.18984 -45.15,-45.15c0,-24.96016 20.18984,-45.15 45.15,-45.15zM107.5,23.65c-1.18418,0 -2.15,0.96582 -2.15,2.15c0,1.18418 0.96582,2.15 2.15,2.15c1.18418,0 2.15,-0.96582 2.15,-2.15c0,-1.18418 -0.96582,-2.15 -2.15,-2.15zM97.49746,24.96855c-0.05039,0 -0.10078,0 -0.14277,0c-0.15117,0.0168 -0.28555,0.03359 -0.42832,0.07559c-1.15059,0.31074 -1.83086,1.48652 -1.52012,2.63711c0.31074,1.14219 1.48652,1.82246 2.62871,1.51172c1.15059,-0.30234 1.83086,-1.47812 1.52852,-2.62871c-0.25195,-0.93223 -1.0918,-1.5873 -2.06602,-1.5957zM117.50254,24.96855c-0.96582,0.0084 -1.81406,0.66348 -2.06602,1.5957c-0.30234,1.15059 0.37793,2.32637 1.52852,2.62871c1.14219,0.31074 2.31797,-0.36953 2.62871,-1.51172c0.31074,-1.15059 -0.36953,-2.32637 -1.52012,-2.63711c-0.18477,-0.05039 -0.37793,-0.07559 -0.57109,-0.07559zM88.09961,28.83184c-0.36113,0.0084 -0.71387,0.10918 -1.02461,0.29395c-0.49551,0.27715 -0.85664,0.74746 -1.00781,1.30176c-0.14277,0.5543 -0.06719,1.14219 0.21836,1.6293c0.28555,0.49551 0.75586,0.85664 1.31016,1.00781c0.5459,0.14278 1.13379,0.06719 1.6293,-0.21836c1.02461,-0.59629 1.37734,-1.90645 0.78105,-2.93945c-0.38633,-0.68027 -1.11699,-1.0918 -1.90644,-1.075zM126.74922,28.84024c-0.73066,0.03359 -1.39414,0.43672 -1.76367,1.075c-0.59629,1.02461 -0.23516,2.34316 0.78945,2.93945c1.02461,0.58789 2.34316,0.23516 2.93105,-0.78945c0.29395,-0.49551 0.36953,-1.0834 0.21836,-1.6293c-0.14277,-0.5543 -0.50391,-1.02461 -0.99941,-1.31016c-0.35273,-0.20996 -0.76426,-0.30234 -1.17578,-0.28555zM80.16309,34.97949c-0.57949,0 -1.14219,0.22676 -1.55371,0.62988c-0.83145,0.83984 -0.83145,2.20879 0,3.04863c0.83984,0.83145 2.20879,0.83145 3.04863,0c0.83145,-0.83984 0.83145,-2.20879 0,-3.04863c-0.40312,-0.39473 -0.93223,-0.62148 -1.49492,-0.62988zM134.8957,34.97949c-0.57949,-0.0084 -1.14219,0.21836 -1.55371,0.62988c-0.83984,0.83984 -0.83984,2.20879 0,3.04863c0.83984,0.83145 2.20039,0.83145 3.04024,0c0.83984,-0.83984 0.83984,-2.20879 0,-3.04863c-0.39473,-0.39473 -0.92383,-0.61309 -1.48652,-0.62988zM140.95938,43c-0.36113,0.0084 -0.71387,0.10918 -1.02461,0.29395c-1.02461,0.58789 -1.37734,1.90645 -0.78945,2.93105c0.59629,1.02461 1.91484,1.37734 2.93945,0.78105c1.02461,-0.58789 1.38574,-1.90644 0.78945,-2.93105c-0.39473,-0.68027 -1.12539,-1.0918 -1.91484,-1.075zM73.88105,43c-0.72226,0.04199 -1.38574,0.44512 -1.75527,1.075c-0.59629,1.02461 -0.24355,2.34316 0.78105,2.93105c1.03301,0.59629 2.34316,0.24356 2.93945,-0.78105c0.59629,-1.02461 0.24355,-2.34316 -0.78945,-2.93105c-0.35273,-0.20996 -0.76426,-0.31074 -1.17578,-0.29395zM70.10176,52.33906c-0.97422,0.0084 -1.81406,0.65508 -2.06602,1.5873c-0.30234,1.15059 0.37793,2.32637 1.52852,2.63711c1.14219,0.31074 2.31797,-0.36953 2.62871,-1.52012c0.31074,-1.15059 -0.36953,-2.32637 -1.52012,-2.63711c-0.18477,-0.05039 -0.37793,-0.07559 -0.57109,-0.06719zM144.89824,52.33906c-0.05039,-0.0084 -0.10078,0 -0.15117,0c-0.14277,0.0084 -0.28555,0.03359 -0.42832,0.06719c-1.14219,0.31074 -1.82246,1.48652 -1.51172,2.63711c0.30234,1.15059 1.47813,1.83086 2.62871,1.52012c0.5543,-0.14277 1.02461,-0.50391 1.31016,-0.99941c0.28555,-0.49551 0.36113,-1.0834 0.21836,-1.6377c-0.25195,-0.93222 -1.0918,-1.57891 -2.06602,-1.5873zM68.8,62.35c-1.18418,0 -2.15,0.96582 -2.15,2.15c0,1.18418 0.96582,2.15 2.15,2.15c1.18418,0 2.15,-0.96582 2.15,-2.15c0,-1.18418 -0.96582,-2.15 -2.15,-2.15zM146.2,62.35c-1.18418,0 -2.15,0.96582 -2.15,2.15c0,1.18418 0.96582,2.15 2.15,2.15c1.18418,0 2.15,-0.96582 2.15,-2.15c0,-1.18418 -0.96582,-2.15 -2.15,-2.15zM70.20254,72.36934c-0.21836,-0.0084 -0.43672,0.0168 -0.63828,0.06719c-1.15059,0.31074 -1.83086,1.48653 -1.52852,2.63711c0.31074,1.15059 1.48653,1.83086 2.63711,1.52012c1.15059,-0.31074 1.83086,-1.48652 1.52012,-2.62871c-0.24355,-0.91543 -1.0498,-1.56211 -1.99043,-1.5957zM144.85625,72.36934c-0.96582,0.0084 -1.80566,0.66348 -2.04922,1.5957c-0.15117,0.5543 -0.07559,1.14219 0.20996,1.6293c0.28555,0.49551 0.75586,0.85664 1.31016,0.99941c1.15059,0.31074 2.32637,-0.36953 2.63711,-1.51172c0.30234,-1.15059 -0.37793,-2.32637 -1.52852,-2.63711c-0.18476,-0.05039 -0.37793,-0.07559 -0.57949,-0.07559zM73.93145,81.7c-0.36113,0.0084 -0.70547,0.10918 -1.02461,0.28555c-0.48711,0.28555 -0.84824,0.75586 -0.99941,1.31016c-0.15117,0.5459 -0.07559,1.13379 0.21836,1.6293c0.27715,0.49551 0.74746,0.85664 1.30176,0.99941c0.5543,0.15117 1.14219,0.07559 1.6293,-0.21836c1.03301,-0.58789 1.38574,-1.90644 0.78945,-2.93105c-0.39473,-0.68027 -1.12539,-1.0918 -1.91484,-1.075zM140.91738,81.7084c-0.73906,0.03359 -1.40254,0.43672 -1.77207,1.0666c-0.28555,0.49551 -0.36113,1.0834 -0.20996,1.6377c0.15117,0.5543 0.5123,1.02461 1.00781,1.31016c1.02461,0.58789 2.33476,0.23516 2.93105,-0.79785c0.59629,-1.02461 0.24355,-2.33476 -0.78105,-2.93105c-0.36113,-0.20996 -0.77266,-0.30234 -1.17578,-0.28555zM80.16309,89.72051c-0.57949,-0.0084 -1.14219,0.21836 -1.55371,0.62148c-0.83145,0.83984 -0.83145,2.20879 0,3.04863c0.83984,0.83145 2.20879,0.83145 3.04863,0c0.83145,-0.83984 0.83145,-2.20879 0,-3.04863c-0.40312,-0.39472 -0.93223,-0.62148 -1.49492,-0.62148zM134.8957,89.72051c-0.57949,-0.0168 -1.14219,0.20996 -1.55371,0.62148c-0.83984,0.83984 -0.83984,2.20879 0,3.04863c0.83984,0.83145 2.20039,0.83145 3.04024,0c0.83984,-0.83984 0.83984,-2.20879 0,-3.04863c-0.39473,-0.39472 -0.92383,-0.61309 -1.48652,-0.62148zM126.79121,95.86816c-0.35273,0 -0.70547,0.10078 -1.01621,0.27715c-1.03301,0.59629 -1.38574,1.91484 -0.78945,2.93945c0.59629,1.02461 1.90644,1.38574 2.93945,0.78945c0.48711,-0.28555 0.84824,-0.75586 0.99941,-1.31016c0.15117,-0.5459 0.07559,-1.13379 -0.21836,-1.6293c-0.38633,-0.68028 -1.12539,-1.0918 -1.91484,-1.0666zM88.04922,95.86816c-0.73906,0.03359 -1.40254,0.43672 -1.76367,1.075c-0.59629,1.02461 -0.24356,2.34316 0.78945,2.93105c0.48711,0.29395 1.075,0.36953 1.6293,0.21836c0.5543,-0.14278 1.02461,-0.50391 1.30176,-0.99941c0.29395,-0.49551 0.36953,-1.0834 0.21836,-1.6293c-0.15117,-0.5543 -0.5123,-1.02461 -0.99941,-1.31016c-0.36113,-0.20996 -0.77266,-0.30234 -1.17578,-0.28555zM70.37891,97.13633c1.40254,1.5873 2.89746,3.08222 4.48477,4.48476l-8.38164,8.38164l-4.48476,-4.48477zM97.46387,99.73984c-0.96582,0.0084 -1.80566,0.65508 -2.05762,1.5873c-0.31074,1.15059 0.36953,2.32637 1.52012,2.63711c1.15059,0.31074 2.32637,-0.36953 2.63711,-1.52012c0.14277,-0.5543 0.06719,-1.14219 -0.21836,-1.6377c-0.28555,-0.48711 -0.75586,-0.84824 -1.31016,-0.99941c-0.18476,-0.05039 -0.37793,-0.07559 -0.57109,-0.06719zM117.60332,99.73984c-0.21836,-0.0084 -0.43672,0.0084 -0.63828,0.06719c-1.15059,0.31074 -1.83086,1.48652 -1.52852,2.62871c0.31074,1.15059 1.48653,1.83086 2.63711,1.52852c1.15059,-0.31074 1.83086,-1.48652 1.52012,-2.63711c-0.24355,-0.90703 -1.0498,-1.55371 -1.99043,-1.5873zM107.5,101.05c-1.18418,0 -2.15,0.96582 -2.15,2.15c0,1.18418 0.96582,2.15 2.15,2.15c1.18418,0 2.15,-0.96582 2.15,-2.15c0,-1.18418 -0.96582,-2.15 -2.15,-2.15zM56.26953,106.75254c0.5459,0 1.0834,0.20996 1.51172,0.63828l6.82793,6.81953c0.85664,0.85664 0.85664,2.18359 0,3.04023l-34.76953,34.76953c-0.85664,0.85664 -2.18359,0.85664 -3.04023,0l-6.81953,-6.81953c-0.85664,-0.85664 -0.85664,-2.18359 0,-3.04023l3.67012,-3.67012l4.92988,4.92988l3.04023,-3.04023l-4.92988,-4.92988l3.40976,-3.40976l4.92988,4.92988l3.04023,-3.04023l-4.92988,-4.92988l3.40976,-3.40976l4.92988,4.92988l3.04023,-3.04023l-4.92988,-4.92988l3.40976,-3.40976l4.92988,4.92988l3.04023,-3.04023l-4.92988,-4.92988l3.40976,-3.40976l4.92988,4.92988l3.04023,-3.04023l-4.92988,-4.92988l2.25918,-2.25918c0.42832,-0.42832 0.97422,-0.63828 1.52012,-0.63828z"></path></g></g></svg>
          </label>
      </form>
      </div>
  
<form action="/courses" method="GET">

  <% if(search) { %> 
    <div class="text_result_wrapper">
      <input type="hidden" name="search" value="<%= search %>">
      <h3>عبارت جستجو شده : <%= search %> </h3> 
      <a href="/courses?<%= type ? 'type=' + type : '' %><%= order ? '&order=1' : '' %>" class="btn btn-sm btn-dark">حذف</a> 
    </div>  
  <% } %>
 
</form>

<% if(courses.length) { %> 
      
  <div class="row">
      <% courses.forEach(course => { %>
      <div class="col-4">
      

          <div class="card">
            
              <img class="card-img-top" src="<%= course.thumb %>" alt="<%= course.title %>">
              <div class="card-body">
                <div class="card-body_top" style="display: flex;">
                <a href="<%= course.path() %>">
                  <h3 style="color: black"><%= course.title %></h3></a>
                  <div class="showCourse"><a href="<%= course.path() %>">مشاهده</a></div>
                </div>
                <p class="card-text"><%= course.body.substr(0,100) %></p>
                      
                
              </div>
              <div class="card-footer text-muted">
                  قیمت : <%= course.price %> 
              </div> 
             
          </div> 
        </div>
          <% }) %>
      
      </div>
      <% } else { %>
        <div class="row">
            <p>دوره ای یافت نشد</p>
        </div>
    <%} %>



<%- include(viewPath('layouts/pagination') ,{ pagination : courses}) %>

<link rel="stylesheet" href="/css/bootstrap.min.css"> 
<link rel="stylesheet" href="/css/bootstrap-rtl.min.css">